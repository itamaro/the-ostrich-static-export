<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en-US"
	itemscope 
	itemtype="http://schema.org/Article" 
	prefix="og: http://ogp.me/ns#" > <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en-US"
	itemscope 
	itemtype="http://schema.org/Article" 
	prefix="og: http://ogp.me/ns#" > <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en-US"
	itemscope 
	itemtype="http://schema.org/Article" 
	prefix="og: http://ogp.me/ns#" > <![endif]-->
<!--[if IE 9 ]><html class="ie ie9" lang="en-US"
	itemscope 
	itemtype="http://schema.org/Article" 
	prefix="og: http://ogp.me/ns#" > <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en-US"
	itemscope 
	itemtype="http://schema.org/Article" 
	prefix="og: http://ogp.me/ns#" > <!--<![endif]-->
<head>
<base href="https://www.ostricher.com" />

	<title>Setting Up unRAID as a VM on VMware ESXi | The Ostrich</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
		<link rel="icon" href="/io-content/uploads/theme-images/favicon.png" type="image/x-icon" />
		
	
	
	<script type='text/javascript'>
	(function() {
if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
var msViewportStyle = document.createElement("style");
msViewportStyle.appendChild(
document.createTextNode("@-ms-viewport{width:auto!important}")
);
document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
}
})();
</script>
<!-- Jetpack Site Verification Tags -->
<meta name="google-site-verification" content="Po_E-eL7srSzieLmesJQntF7f-r3bV83AW_HQTe5EqE" />


<!-- All in One SEO Pack 2.3.13.2 by Michael Torbert of Semper Fi Web Design[766,808] -->
<link rel="author" href="https://plus.google.com/+ItamarOstricher/" />
<meta name="description"  content="A detailed walkthrough of how I installed and configured unRAID as a VM on a VMware ESXi host. unRAID boots from USB stick, and has raw access to the HDDs." />

<meta name="keywords"  content="unraid,vmware,esxi,virtualization,plop,nas,raw-device-mapping,vt-d" />

<link rel="canonical" href="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" />
<meta property="og:title" content="Setting Up unRAID as a VM on VMware ESXi | The Ostrich" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" />
<meta property="og:image" content="http://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?fit=900%2C785" />
<meta property="og:site_name" content="The Ostrich" />
<meta property="og:description" content="A detailed walkthrough of how I installed and configured unRAID as a VM on a VMware ESXi host. unRAID boots from USB stick, and has raw access to the HDDs." />
<meta property="article:published_time" content="2012-09-24T21:00:35Z" />
<meta property="article:modified_time" content="2014-09-08T19:02:51Z" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Setting Up unRAID as a VM on VMware ESXi | The Ostrich" />
<meta name="twitter:description" content="A detailed walkthrough of how I installed and configured unRAID as a VM on a VMware ESXi host. unRAID boots from USB stick, and has raw access to the HDDs." />
<meta name="twitter:image" content="http://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?fit=900%2C785" />
<meta itemprop="image" content="http://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?fit=900%2C785" />
			<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-48565506-1', 'auto');
			
			ga('send', 'pageview');
			</script>
<!-- /all in one seo pack -->
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s.gravatar.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />



		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.ostricher.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.10"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='adsns_css-css'  href='https://www.ostricher.com/io-content/plugins/adsense-plugin/css/adsns.css?ver=1.44' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='https://www.ostricher.com/io-content/plugins/contact-form-7/includes/css/styles.css?ver=4.5' type='text/css' media='all' />
<link rel='stylesheet' id='colorbox-css-css'  href='https://www.ostricher.com/io-content/plugins/easy-image-display/css/colorbox.css?ver=4.7.10' type='text/css' media='all' />
<link rel='stylesheet' id='zilla-likes-css'  href='https://www.ostricher.com/io-content/plugins/zilla-likes/styles/zilla-likes.css?ver=4.7.10' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/bootstrap.css?ver=2.3' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-css'  href='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/responsive.css?ver=2.3' type='text/css' media='all' />
<link rel='stylesheet' id='magnificpopup-css'  href='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/css/magnificpopup.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='mainstyle-css'  href='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/style.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='owl-css'  href='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/css/owl.carousel.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='options_typography_Lato:100,300,400,700,900-css'  href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900&#038;subset=latin' type='text/css' media='all' />
<link rel='stylesheet' id='mc4wp-form-basic-css'  href='https://www.ostricher.com/io-content/plugins/mailchimp-for-wp/assets/css/form-basic.min.css?ver=4.1.3' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://www.ostricher.com/io-content/plugins/jetpack/css/jetpack.css?ver=4.9' type='text/css' media='all' />
<!-- This site uses the Google Analytics by MonsterInsights plugin v6.1.11 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	var disableStr = 'ga-disable-UA-48565506-1';
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-48565506-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('send','pageview');
</script>
<!-- / Google Analytics by MonsterInsights -->
<script type='text/javascript' src='https://www.ostricher.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://www.ostricher.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/modernizr.js?ver=2.0.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var zilla_likes = {"ajaxurl":"http:\/\/www.ostricher.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/zilla-likes/scripts/zilla-likes.js?ver=4.7.10'></script>
<link rel='https://api.w.org/' href='https://www.ostricher.com/wp-json/' />


<link rel='next' title='Enhancing Mordor unRAID With IBM ServerRAID M1015' href='https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/' />

<link rel='shortlink' href='http://wp.me/p4XcCP-2A' />



<link rel='dns-prefetch' href='//v0.wordpress.com'>
<link rel='dns-prefetch' href='//jetpack.wordpress.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//s1.wp.com'>
<link rel='dns-prefetch' href='//s2.wp.com'>
<link rel='dns-prefetch' href='//public-api.wordpress.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<style type="text/css">.logo {
    margin: 10px auto;
}.top-panel-button .toggle-button {color:#e1e1e1}.top-panel-button {border-color:#eeeeee}.nav__primary {background:#ffffff}@media all and (min-width: 800px) {.flexnav > li > a:after {color:#eeeeee}}.nav__primary {border-color:#d6d6d6}.logo_tagline {color:#444444}.header-overlay {background:#ffffff}.header-overlay {-moz-opacity: 0.85; -khtml-opacity: 0.85; opacity: 0.85;}body { background-image:url(/io-content/uploads/theme-images/bg-diaglines.jpg); background-repeat:repeat; background-position:top center;  background-attachment:scroll; }body { background-color:#ffffff;}.headerstyler { background-color:#ffffff;}</style><style type="text/css">.dropcap.bl:first-letter, .text-highlight, .services-grid  .hr, div.jp-play-bar, div.jp-volume-bar-value, .blue, #ascrail2000 div, .progress .bar, .ourclients .hr, .clients .hr, .zoom-icon, .zoom-insta, .zoom-icon-video, .image-mail:hover .zoom-mail, .format-quote, .isotope-item .format-quote, .post-header-article, #showTop, .cbp-spmenu {
background:#ed1d24!important;
}.twitter .stream-item-header .account-group .username, .error404-holder_num, .twitter .stream-item-header .account-group .username, .twitter i, .private-image h3, .twitter-code i {
color:#ed1d24;
}.hi-icon-effect-1 .hi-icon {
box-shadow: 0 0 0 2px #ed1d24;
}.hi-icon-effect-1 .hi-icon:after {
box-shadow: 0 0 0 4px #ed1d24;
}.flexnav ul li:hover > a, .flexnav li li > a:hover, .flexnav li li.sfHover > a, .flexnav li li.current-menu-item > a { background: #ed1d24 url(https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/images/line-menu.png) repeat-x bottom; }.flexnav li ul li a { color: #ffffff}.flexnav li li > a:hover, .flexnav li li.current-menu-item > a { color: #231f20}.flexnav .sub-menu  > li { background: #ed1d24}.sub-menu li:first-child a:after { border-bottom: 11px solid #ed1d24}.flexnav > li > a span, .flexnav > li.current-menu-item > a span, .flexnav > li.current-menu-ancestor  > a span, .flexnav > li > a span, .flexnav li:hover > a span, .flexnav > li > a:hover span { background: #bcbdc0; }.flexnav > li > a:hover {
 color:#bcbdc0;
}.flexnav > li.current-menu-item > a, .flexnav > li.current-menu-ancestor  > a {
 color:#231f20;
}.title-section h2 {
    color: #ed1d24;
}a, .social_link, .related-posts_item a, .post_author a, .breadcrumb a, .post-list a, .comments-custom a, #wp-calendar a, .tagcloud a, .post_date_grid_filtr a, .flexslider a, .footer .social a, .fs-carousel-header a:hover {color:#ed1d24}.btn-color {background-color:#ed1d24!important; border: 2px solid #ed1d24!important;}.btn-white:hover, .btn-white:focus {background-color:#ed1d24!important; border-color:#ed1d24!important;}.link-image a p {background:#ed1d24;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";filter: alpha(opacity=90);-moz-opacity: 0.9;-khtml-opacity: 0.9;opacity: 0.9;}.link-image a:hover p {background:#ed1d24;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter: alpha(opacity=100);-moz-opacity: 1.0;-khtml-opacity: 1.0;opacity: 1.0;}.form-submit input[type="submit"]:hover, .active .btn, .btn:hover, .btn:focus {
  background: #ed1d24;
  border-color: #ed1d24;
}.btn-1c:after {
  background: #ed1d24;
}.btn-1c:hover, .btn-1c:active {
  border: 3px solid #ed1d24;
}.tagcloud a {
  border: 1px solid #ed1d24;
}.flexslider a:hover {
  color: #222222!important;
}</style><style type="text/css">/* MailChimp for WP - Checkbox Styles */
.mc4wp-checkbox-wp-comment-form {
  clear: both;
  display: block;
  position: static;
  width: auto; }
  .mc4wp-checkbox-wp-comment-form input {
    float: none;
    width: auto;
    position: static;
    margin: 0 6px 0 0;
    padding: 0;
    vertical-align: middle;
    display: inline-block !important;
    max-width: 21px;
    -webkit-appearance: checkbox; }
  .mc4wp-checkbox-wp-comment-form label {
    float: none;
    display: block;
    cursor: pointer;
    width: auto;
    position: static;
    margin: 0 0 16px 0; }
</style><style type="text/css">/* MailChimp for WP - Checkbox Styles */
.mc4wp-checkbox-wp-registration-form {
  clear: both;
  display: block;
  position: static;
  width: auto; }
  .mc4wp-checkbox-wp-registration-form input {
    float: none;
    width: auto;
    position: static;
    margin: 0 6px 0 0;
    padding: 0;
    vertical-align: middle;
    display: inline-block !important;
    max-width: 21px;
    -webkit-appearance: checkbox; }
  .mc4wp-checkbox-wp-registration-form label {
    float: none;
    display: block;
    cursor: pointer;
    width: auto;
    position: static;
    margin: 0 0 16px 0; }
</style>
<style type='text/css'>
h1 { font-weight: 200; font-style: normal; font-size: 60px; line-height: 60px; font-family: Lato;  color:#a7a9ac; }
h2 { font-weight: 200; font-style: normal; font-size: 40px; line-height: 40px; font-family: Lato;  color:#a7a9ac; }
h3 { font-weight: 200; font-style: normal; font-size: 34px; line-height: 34px; font-family: Lato;  color:#a7a9ac; }
h4 { font-weight: 200; font-style: normal; font-size: 24px; line-height: 28px; font-family: Lato;  color:#a7a9ac; }
h5 { font-weight: 200; font-style: normal; font-size: 21px; line-height: 32px; font-family: Lato;  color:#a7a9ac; }
h6 { font-weight: 200; font-style: normal; font-size: 17px; line-height: 24px; font-family: Lato;  color:#a7a9ac; }
.main-holder, .mfp-wrap { font-weight: 300; font-style: normal; font-size: 16px; line-height: 31px; font-family: Lato;  color:#000000; }
.logo_h__txt, .logo_link { font-weight: 400; font-style: normal; font-size: 73px; line-height: 45px; font-family: playfair_displayregular;  color:#222222; }
.flexnav > li > a { font-weight: 300; font-style: normal; font-size: 12px; line-height: 21px; font-family: Lato;  color:#939598; }
.nav.footer-nav a { font-weight: 300; font-style: normal; font-size: 12px; line-height: 22px; font-family: Lato;  color:#818285; }
</style>
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><style type="text/css" id="syntaxhighlighteranchor"></style>
	
<!--[if IE 8 ]>
<link rel="stylesheet" id="stylesheet-ie8" type="text/css" href="https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/ie8.css" />
	<script src="https://www.ostricher.com/io-content/themes/BUZZBLOG-theme-child/js/respond.js"></script>
<![endif]-->
</head>

<body class="post-template-default single single-post postid-160 single-format-standard cat-6-id">
	
			<div id="stickynot" class="main-holder" style="margin-top:0px;">
<header id="headerfix" class="headerstyler headerphoto normal_header" style="">
<div class="header-overlay"></div>
<div class="top-panel22 hidden-phone"> 
    <div class="top-panel-button">
	<a class="popup-with-zoom-anim toggle-button md-trigger" href="#small-dialog"><i class="icon-search-2 icon-2x"></i></a>
    </div>
	<div id="small-dialog" class="zoom-anim-dialog mfp-hide">
	<!-- BEGIN SEARCH FORM -->  
	<div class="sb-search">
						<form class="navbar-form" method="get" action="https://www.ostricher.com/" accept-charset="utf-8">
							<input class="sb-search-input" placeholder="Search term..." type="text" value="" name="s">
						</form>
					</div>
<!-- END SEARCH FORM -->	</div> 
</div>
	<div class="container">
		<div class="row-fluid">
			<div class="span12">
				
<div class="row-fluid">

    <div class="span12">
    	<!-- BEGIN LOGO -->                     
<div class="logo">                            
												<h1 class="logo_h logo_h__txt"><a href="https://www.ostricher.com/" class="logo_h logo_h__img"><img src="/io-content/uploads/theme-images/logo-ostrich.jpg" alt="The Ostrich" title="Break; Build; Repeat;"></a></h1>
												
</div>
<!-- END LOGO -->    </div>
	</div>
	<div class="row-fluid post-header">
	<div class="span12">
    			<!-- BEGIN MAIN NAVIGATION  -->
		<div class="menu-button"><i class="icon-menu"></i>
					<a style="position:relative;z-index:100;color:#222222; margin-left:12px;display:inline-block;" class="popup-with-zoom-anim toggle-button md-trigger" href="#small-dialog"><i class="icon-search-1"></i></a>
	<div id="small-dialogs" class="zoom-anim-dialog mfp-hide">
	<!-- BEGIN SEARCH FORM -->  
	<div class="sb-search">
						<form class="navbar-form" method="get" action="https://www.ostricher.com/" accept-charset="utf-8">
							<input class="sb-search-input" placeholder="Search term..." type="text" value="" name="s">
						</form>
					</div>
<!-- END SEARCH FORM -->	</div> 
			</div>
		<nav class="nav nav__primary clearfix"> 
			<ul data-breakpoint="800" id="menu-main" class="flexnav"><li id="menu-item-800" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/">Home</a></li>
<li id="menu-item-793" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.ostricher.com/about/">About</a></li>
<li id="menu-item-525" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href="https://www.ostricher.com/projects/">Side Projects</a>
<ul class="sub-menu">
	<li id="menu-item-529" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.ostricher.com/active-projects/">Active Projects</a></li>
	<li id="menu-item-526" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.ostricher.com/pending-projects/">Pending Projects</a></li>
	<li id="menu-item-527" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.ostricher.com/on-hold-projects/">On-Hold Projects</a></li>
	<li id="menu-item-528" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.ostricher.com/archived-projects/">Archived Projects</a></li>
</ul>
</li>
<li id="menu-item-530" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href="#">Categories</a>
<ul class="sub-menu">
	<li id="menu-item-27" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent"><a href="https://www.ostricher.com/category/compute/">Compute</a></li>
	<li id="menu-item-923" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/infosec/">Information Security</a></li>
	<li id="menu-item-354" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/lifehacking/">Lifehacking</a></li>
	<li id="menu-item-532" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/make/">Make</a></li>
	<li id="menu-item-533" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/meta/">Meta</a></li>
	<li id="menu-item-26" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/mobile/">Mobile</a></li>
	<li id="menu-item-924" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/money/">Money Stuff</a></li>
	<li id="menu-item-925" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/personal/">Personal</a></li>
	<li id="menu-item-926" class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="https://www.ostricher.com/category/software-eng/">Software Engineering</a></li>
</ul>
</li>
</ul>			
		 </nav>
		<!-- END MAIN NAVIGATION -->


    </div>
	

</div>
<!--<div class="row"> -->
    
<!-- </div> -->			</div>
		</div>
	</div>

</header><div class="content-holder clearfix">
    <div class="container">
        <div class="row">
            <div class="span12">
                <div class="row">
                <div class="span12" id="title-header">
                <div class="page-header">
                <section class="title-section">
                				                				          </section>
            </div> 
                </div>
                   </div>
                 <div class="row">
                                   <div class="span8 right" id="content">
                        <article id="post-160" class="post__holder post-160 post type-post status-publish format-standard has-post-thumbnail hentry category-compute tag-esxi tag-nas tag-raw-device-mapping tag-unraid tag-virtualization tag-vmware tag-vt-d cat-6-id">
<div class="post-formats hidden-phone"><i class="icon-doc-text-1 icon-2x"></i></div>	<div class="row-fluid">
	<div class="span12">
		<header class="post-header">	
					<h2 class="post-title">Setting up unRAID as VM on Mordor</h2>
			</header>
		<!-- Post Meta -->
	<div class="meta-space">
				<span>By <a href="https://www.ostricher.com/author/itamar/" title="Posts by Itamar Ostricher" rel="author">Itamar Ostricher</a></span>
					<span><i class="icon-calendar-2"></i> Monday, September 24, 2012</span>
					<span><i class="icon-comment-2"></i> <a href="https://www.ostricher.com/2012/09/setting-up-unraid-vm/#comments" class="comments-link" >3</a></span>
						<span class="post_category"><i class="icon-cloud-2"></i><a href="https://www.ostricher.com/category/compute/" >Compute</a></span>
															<span><i class="icon-tag-2"></i>
									<a href="https://www.ostricher.com/tag/esxi/" rel="tag">esxi</a>, <a href="https://www.ostricher.com/tag/nas/" rel="tag">nas</a>, <a href="https://www.ostricher.com/tag/raw-device-mapping/" rel="tag">raw-device-mapping</a>, <a href="https://www.ostricher.com/tag/unraid/" rel="tag">unraid</a>, <a href="https://www.ostricher.com/tag/virtualization/" rel="tag">virtualization</a>								</span>
															
		<!--// ItamarO addition begin -->
				<span><i class="icon-book"></i><a href="https://www.ostricher.com/projects/mordor-home-server/">Mordor: Home Server Project</a></span>
				<!--// ItamarO addition end -->
		
				<span class="post_permalink"><i class="icon-attach-2"></i><a href="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" title="Permalink Setting up unRAID as VM on Mordor">Permalink</a></span>
				
	<span><a href="#" class="zilla-likes" id="zilla-likes-160" title="Like this">0</a></span>	</div>
	<!--// Post Meta -->
			
	<!-- Post Content -->
	<div class="post_content">	
				<div class="featured-thumbnail thumbnail norm"><img width="300" height="261" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?fit=300%2C261" class="attachment-medium size-medium wp-post-image" alt="" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?w=1692 1692w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=300%2C261 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=1024%2C893 1024w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=841%2C735 841w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=492%2C430 492w" sizes="(max-width: 300px) 100vw, 300px" /></div>
	
		<script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-4 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-5 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-6 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-7 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-8 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-9 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-1 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-2 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><script type="text/javascript">
                jQuery(document).ready(function() {
                  jQuery("#gallery-3 .gallery-icon a").colorbox({
                    maxWidth: "80%",
                    maxHeight: "80%",
                  });
                });
            </script><p>After <a href="https://www.ostricher.com/2012/09/mordor-installing-vmware-esxi/">installing VMware ESXi on Mordor</a>, the next step in my Mordor 1.0 -> Mordor 2.0 project is to regain the basic Mordor 1.0 functionality based on a VM, AKA, set up an unRAID-powered-NAS.</p>
<p>In this post I document the details of my experience of setting up unRAID (version 5.0-beta12a) on my ESXi server (running version 5.1.0). I describe creating a VM on ESXi that boots from a physical USB flash drive (using Plop Boot Manager), my adventures with trying to passthrough the onboard SATA controller to the VM <em>(spoiler: it failed)</em>, and other options for configuring the data drives for the VM (Raw Device Mapping, VMDirectPath I/O passthrough).</p>
<p>By far, the most useful resource that guided me in this process was the amazingly detailed documentation by the unRAID user Johnm in his <a href="http://lime-technology.com/forum/index.php?topic=14695.0">ATLAS post in the Lime Tech forum</a>. I have used guidance and tips from his post extensively, and will probably repeat some in this post.</p>
<p><span id="more-160"></span></p>
<div id="tr_shareit-1600" class="tr_shareit-wrapper center">
					<div class="tr_shareit">
						<div class="tr_shareit-content">
Install unRAID NAS OS as a VM on ESXi host to improve resource utilization of your home server!<br />
</div>
						<!-- .tr-shareit-content -->
						<ul class="tr_shareit-bar"><li class="tr_shareit-twitter"><a href="http://twitter.com/home?status=Install+unRAID+NAS+OS+as+a+VM+on+ESXi+host+to+improve+resource+utilization+of+your+home+server%21 https://www.ostricher.com/2012/09/setting-up-unraid-vm/" target="_blank" title="Share on Twitter"><i class="icon-twitter"></i><span>Share on Twitter</span></a></li><li class="tr_shareit-facebook" data-link="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" data-name="Setting up unRAID as VM on Mordor" data-description="Install unRAID NAS OS as a VM on ESXi host to improve resource utilization of your home server!"data-picture="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150"><a href="http://www.facebook.com/dialog/feed?app_id=1447249925543116&redirect_uri=https://www.ostricher.com/&display=popup&link=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&name=Setting up unRAID as VM on Mordor&description=Install+unRAID+NAS+OS+as+a+VM+on+ESXi+host+to+improve+resource+utilization+of+your+home+server%21&picture=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150" title="Share on Facebook"><i class="icon-facebook"></i><span>Share on Facebook</span></a></li><li class="tr_shareit-pinterest"><a href="http://pinterest.com/pin/create/button/?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&media=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150&description=Install+unRAID+NAS+OS+as+a+VM+on+ESXi+host+to+improve+resource+utilization+of+your+home+server%21" target="_blank" title="Share on Pinterest"><i class="icon-pinterest-circled"></i><span>Share on Pinterest</span></a></li><li class="tr_shareit-tumblr"><a href="http://www.tumblr.com/share/quote?quote=Install+unRAID+NAS+OS+as+a+VM+on+ESXi+host+to+improve+resource+utilization+of+your+home+server%21&source=The+Ostrich" target="_blank" title="Share on Tumblr"><i class="icon-tumblr"></i><span>Share on Tumblr</span></a></li></ul>
						<!-- .tr-shareit-bar -->
					</div>
					<!-- .tr-shareit -->
				</div>
				<!-- .tr-shareit-wrapper -->
<h3>Challenges and Requirements</h3>
<p>So, what are the challenges in running unRAID as a VM? And what are some of the requirements I have from this set up and migration process?</p>
<ol>
<li>unRAID runs from a USB flash drive as its boot media, and persistent memory for configuration and plugins, but ESXi doesn&#8217;t offer a &#8220;boot a VM from USB flash drive&#8221; option, nor does it support simulating a USB flash drive as a VM booting media.</li>
<li>The main function of unRAID is to manage storage. Thus, it makes sense to give unRAID complete and absolute control of the NAS hard-drives it will manage. ESXi, running on VT-d-enabled hardware, has support for <a href="http://communities.vmware.com/docs/DOC-11089">DirectPath I/O passthrough</a> &#8211; but it is far from simple and/or straight forward to use it directly with physical drives&#8230;</li>
<li>I don&#8217;t have the luxury of having separate &#8220;production&#8221; and &#8220;staging&#8221; servers, to experiment without affecting my actual system and data. Mordor 1.0 managed 3 data-drives (2TB each), and this is all the large drives I have, so I must have the unRAID VM working with the existing configuration and data, while minimizing the risk that something bad happens to my data during the process.</li>
</ol>
<h3>Create an unRAID VM that boots from a USB flash drive using Plop Boot Manager</h3>
<p>To tackle the first challenge &#8211; I decided to go for a solution that allows a VM to boot from a physical USB flash drive, using the Plop Boot Manager.</p>
<div id="tr_shareit-1601" class="tr_shareit-wrapper center">
					<div class="tr_shareit">
						<div class="tr_shareit-content">
Plop Boot Manager is a minimal program that allows booting other OSes from arbitrary media (like USB drive)<br />
</div>
						<!-- .tr-shareit-content -->
						<ul class="tr_shareit-bar"><li class="tr_shareit-twitter"><a href="http://twitter.com/home?status=Plop+Boot+Manager+is+a+minimal+program+that+allows+booting+other+OSes+from+arbitrary+media+%28like+USB+drive%29 https://www.ostricher.com/2012/09/setting-up-unraid-vm/" target="_blank" title="Share on Twitter"><i class="icon-twitter"></i><span>Share on Twitter</span></a></li><li class="tr_shareit-facebook" data-link="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" data-name="Setting up unRAID as VM on Mordor" data-description="Plop Boot Manager is a minimal program that allows booting other OSes from arbitrary media (like USB drive)"data-picture="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150"><a href="http://www.facebook.com/dialog/feed?app_id=1447249925543116&redirect_uri=https://www.ostricher.com/&display=popup&link=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&name=Setting up unRAID as VM on Mordor&description=Plop+Boot+Manager+is+a+minimal+program+that+allows+booting+other+OSes+from+arbitrary+media+%28like+USB+drive%29&picture=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150" title="Share on Facebook"><i class="icon-facebook"></i><span>Share on Facebook</span></a></li><li class="tr_shareit-pinterest"><a href="http://pinterest.com/pin/create/button/?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&media=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150&description=Plop+Boot+Manager+is+a+minimal+program+that+allows+booting+other+OSes+from+arbitrary+media+%28like+USB+drive%29" target="_blank" title="Share on Pinterest"><i class="icon-pinterest-circled"></i><span>Share on Pinterest</span></a></li><li class="tr_shareit-tumblr"><a href="http://www.tumblr.com/share/quote?quote=Plop+Boot+Manager+is+a+minimal+program+that+allows+booting+other+OSes+from+arbitrary+media+%28like+USB+drive%29&source=The+Ostrich" target="_blank" title="Share on Tumblr"><i class="icon-tumblr"></i><span>Share on Tumblr</span></a></li></ul>
						<!-- .tr-shareit-bar -->
					</div>
					<!-- .tr-shareit -->
				</div>
				<!-- .tr-shareit-wrapper -->
<p>The <a href="http://www.plop.at/en/bootmanager/full.html">Plop Boot Manager</a> is a minimal program that allows booting various operating systems from various devices (e.g. CD, floppy, USB), with no dependency on BIOS (it is bundled with drivers for IDE-CDROM and USB).</p>
<p>The game plan is to create a Plop image that boots from USB, and have the unRAID VM use that image as a boot-CD image. Following is a detailed description of my implementation of this plan.</p>
<h5>Make a Plop Boot Manager image (on Windows)</h5>
<ol>
<li>Download the <em>Plop Boot Manager</em>, and the <em>PLPBT-createiso</em> tool (see the <a href="http://www.plop.at/en/bootmanager/download.html">download page</a>, I used the latest available, which was 5.0.14 at the time).</li>
<li>The default behavior of Plop Boot Manager is to display a menu with all possible boot devices detected, and let the user choose which device to boot from:<br />

		<style type='text/css'>
			#gallery-1 {
				margin: auto;
			}
			#gallery-1 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-1 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-1 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-1' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png'><img width="300" height="182" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-1-638" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?w=1680 1680w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?resize=300%2C182 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?resize=1024%2C621 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?resize=980%2C595 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-plopboot.png?resize=573%2C347 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-1-638'>
				The default Plop Boot Manager boot sequence, viewed in vSphere
				</dd></dl><br style="clear: both" />
		</div>

I want to change this behavior, so the VM automatically and immediately boots from USB.</li>
<li>Extract the <code>plpbt-5.0.14.zip</code>, and launch the <code>plpcfgbtGUI</code> (under <code>Windows\plpcfgbtGUI.exe</code>)<br />

		<style type='text/css'>
			#gallery-2 {
				margin: auto;
			}
			#gallery-2 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-2 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-2 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-2' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-01-plpcfggui.png'><img width="300" height="294" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-01-plpcfggui.png?fit=300%2C294" class="attachment-medium size-medium" alt="" aria-describedby="gallery-2-629" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-01-plpcfggui.png?w=483 483w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-01-plpcfggui.png?resize=300%2C294 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-01-plpcfggui.png?resize=438%2C430 438w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-2-629'>
				Configuring the Plop image to boot automatically from USB
				</dd></dl><br style="clear: both" />
		</div>

<ul>
<li>Load the <code>plpbt.bin</code> file, found in the same directory, set the <em>Start mode</em> to <em>Hidden</em>, mark the <em>Countdown</em> checkbox, set the <em>Countdown value</em> to <em>1</em>, choose <em>USB</em> as <em>Default boot</em> (see above screenshot for the configured settings dialog), and click the <em>Configure plpbt.bin</em> button.<br />
This will modify the <code>plpbt.bin</code> file that was loaded, in the same directory.</li>
</ul>
</li>
<li>Extract the <code>plpbt-createiso.zip</code>, and copy to modified <code>plpbt.bin</code> file from the previous step to the extracted directory.</li>
<li>From a command-line prompt, execute <code>create-iso.bat</code> &#8211; it will generate a file in the same directory &#8211; <code>plpbtmycd.iso</code>.</li>
</ol>
<h5>Create the unRAID VM</h5>
<ol>
<li>Launch VMware vSphere Client and log in the the ESXi host.</li>
<li>Start the <em>Create New Virtual Machine</em> wizard, and select a <em>Typical</em> configuration:<br />

		<style type='text/css'>
			#gallery-3 {
				margin: auto;
			}
			#gallery-3 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-3 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-3 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-3' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-01-conf.png'><img width="300" height="284" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-01-conf.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-3-611" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-01-conf.png?w=728 728w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-01-conf.png?resize=300%2C284 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-01-conf.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-3-611'>
				Creating the unRAID VM with vSphere &#8211; Typical configuration
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Name the VM:<br />

		<style type='text/css'>
			#gallery-4 {
				margin: auto;
			}
			#gallery-4 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-4 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-4 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-4' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-02-name.png'><img width="300" height="284" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-02-name.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-4-602" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-02-name.png?w=728 728w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-02-name.png?resize=300%2C284 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-02-name.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-4-602'>
				Creating the unRAID VM with vSphere &#8211; Naming the VM
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Select a datastore for the VM files (note: this will just hold the VM configuration files, RAM snapshot, and boot media image &#8211; no need for much storage):<br />

		<style type='text/css'>
			#gallery-5 {
				margin: auto;
			}
			#gallery-5 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-5 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-5 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-5' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-03-datastore.png'><img width="300" height="284" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-03-datastore.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-5-628" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-03-datastore.png?w=728 728w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-03-datastore.png?resize=300%2C284 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-03-datastore.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-5-628'>
				Creating the unRAID VM with vSphere &#8211; Choosing storage
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Set guest OS to some generic Linux (e.g. &#8220;FreeBSD (32-bit)&#8221;):<br />

		<style type='text/css'>
			#gallery-6 {
				margin: auto;
			}
			#gallery-6 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-6 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-6 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-6' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-04-os.png'><img width="300" height="284" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-04-os.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-6-634" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-04-os.png?w=728 728w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-04-os.png?resize=300%2C284 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-04-os.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-6-634'>
				Creating the unRAID VM with vSphere &#8211; Choosing generic OS
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Leave Network connections with the default settings:<br />

		<style type='text/css'>
			#gallery-7 {
				margin: auto;
			}
			#gallery-7 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-7 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-7 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-7' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-05-network.png'><img width="300" height="284" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-05-network.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-7-630" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-05-network.png?w=728 728w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-05-network.png?resize=300%2C284 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-05-network.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-7-630'>
				Creating the unRAID VM with vSphere &#8211; Configuring network
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Create a small disk (e.g. 32MB, Thin Provision) for the VM boot image:<br />

		<style type='text/css'>
			#gallery-8 {
				margin: auto;
			}
			#gallery-8 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-8 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-8 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-8' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-06-disk.png'><img width="300" height="284" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-06-disk.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-8-640" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-06-disk.png?w=728 728w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-06-disk.png?resize=300%2C284 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-06-disk.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-8-640'>
				Creating the unRAID VM with vSphere &#8211; Provisioning virtual disk for the VM
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>On the <em>Ready to Complete</em> stage, check the <em>Edit the virtual machine settings before completion</em> checkbox, and hit Continue:<br />

		<style type='text/css'>
			#gallery-9 {
				margin: auto;
			}
			#gallery-9 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-9 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-9 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-9' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-07-editready.png'><img width="300" height="284" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-07-editready.png?fit=300%2C284" class="attachment-medium size-medium" alt="" aria-describedby="gallery-9-637" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-07-editready.png?w=728 728w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-07-editready.png?resize=300%2C284 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-07-editready.png?resize=453%2C430 453w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-9-637'>
				Creating the unRAID VM with vSphere &#8211; Edit settings before completion
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Increase the RAM to 2GB:<br />

		<style type='text/css'>
			#gallery-10 {
				margin: auto;
			}
			#gallery-10 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-10 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-10 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-10' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-08-edit-ram.png'><img width="300" height="267" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-08-edit-ram.png?fit=300%2C267" class="attachment-medium size-medium" alt="" aria-describedby="gallery-10-625" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-08-edit-ram.png?w=708 708w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-08-edit-ram.png?resize=300%2C267 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-08-edit-ram.png?resize=482%2C430 482w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-10-625'>
				Creating the unRAID VM with vSphere &#8211; Increasing RAM to 2GB
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Click the <em>Add&#8230;</em> button to launch the <em>Add Hardware</em> wizard, and  add a USB Controller:<br />

		<style type='text/css'>
			#gallery-11 {
				margin: auto;
			}
			#gallery-11 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-11 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-11 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-11' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-10-edit-addusbcontroller.png'><img width="300" height="236" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-10-edit-addusbcontroller.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-11-617" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-10-edit-addusbcontroller.png?w=652 652w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-10-edit-addusbcontroller.png?resize=300%2C236 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-10-edit-addusbcontroller.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-11-617'>
				Creating the unRAID VM with vSphere &#8211; Adding USB controller
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Choose <em>EHCI+UHCI</em> for controller type:<br />

		<style type='text/css'>
			#gallery-12 {
				margin: auto;
			}
			#gallery-12 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-12 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-12 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-12' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-11-edit-addusbcontrollertype.png'><img width="300" height="236" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-11-edit-addusbcontrollertype.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-12-615" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-11-edit-addusbcontrollertype.png?w=652 652w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-11-edit-addusbcontrollertype.png?resize=300%2C236 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-11-edit-addusbcontrollertype.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-12-615'>
				Creating the unRAID VM with vSphere &#8211; Choosing controller type
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Launch the <em>Add Hardware</em> wizard again, this time adding a USB Device (make sure the bootable unRAID USB flash drive is plugged in!):<br />

		<style type='text/css'>
			#gallery-13 {
				margin: auto;
			}
			#gallery-13 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-13 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-13 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-13' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-13-edit-addusbdevice.png'><img width="300" height="236" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-13-edit-addusbdevice.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-13-633" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-13-edit-addusbdevice.png?w=652 652w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-13-edit-addusbdevice.png?resize=300%2C236 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-13-edit-addusbdevice.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-13-633'>
				Creating the unRAID VM with vSphere &#8211; Adding USB device
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Select the USB flash drive from the list of available USB devices:<br />

		<style type='text/css'>
			#gallery-14 {
				margin: auto;
			}
			#gallery-14 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-14 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-14 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-14' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-14-edit-addusbdeviceselect.png'><img width="300" height="236" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-14-edit-addusbdeviceselect.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-14-603" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-14-edit-addusbdeviceselect.png?w=652 652w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-14-edit-addusbdeviceselect.png?resize=300%2C236 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-14-edit-addusbdeviceselect.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-14-603'>
				Creating the unRAID VM with vSphere &#8211; Choosing the unRAID flash drive
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Confirm and finalize the VM creation process.</li>
</ol>
<h5>Make the unRAID VM boot from USB</h5>
<ol>
<li>Using the <em>Datastore Browser</em>, browse to the directory of the VM, and upload the <code>plpbtmycd.iso</code> file created in a previous step:<br />

		<style type='text/css'>
			#gallery-15 {
				margin: auto;
			}
			#gallery-15 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-15 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-15 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-15' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png'><img width="300" height="143" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?fit=300%2C143" class="attachment-medium size-medium" alt="" aria-describedby="gallery-15-606" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?w=1079 1079w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?resize=300%2C143 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?resize=1024%2C490 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?resize=980%2C469 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-02-uploadiso.png?resize=573%2C274 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-15-606'>
				Uploading the Plop boot ISO to the datastore
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Edit the settings of the VM &#8211; select the <em>CD/DVD drive 1</em> item, check the <em>Connect at power on</em> checkbox, set the <em>Device Type</em> to <em>Datastore ISO File</em>, and browse to select the <code>plpbtmycd.iso</code> file that was uploaded in the previous step:<br />

		<style type='text/css'>
			#gallery-16 {
				margin: auto;
			}
			#gallery-16 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-16 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-16 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-16' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-03-setimagetocd.png'><img width="300" height="267" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-03-setimagetocd.png?fit=300%2C267" class="attachment-medium size-medium" alt="" aria-describedby="gallery-16-636" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-03-setimagetocd.png?w=708 708w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-03-setimagetocd.png?resize=300%2C267 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/plpbt-nomenubootusb-03-setimagetocd.png?resize=482%2C430 482w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-16-636'>
				Setting the Plop bootable ISO as the boot device of the unRAID VM
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Confirm and start the VM. It should successfully boot all the way into the unRAID console, just without the data drives. At this point I checked the MAC address of the virtual NIC (by running the <code>ifconfig</code> command) in order to configure my router DHCP to assign a static IP address to this VM, before shutting down the VM in order to proceed to configuring the data drives:<br />

		<style type='text/css'>
			#gallery-17 {
				margin: auto;
			}
			#gallery-17 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-17 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-17 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-17' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png'><img width="300" height="182" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-17-635" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?w=1680 1680w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?resize=300%2C182 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?resize=1024%2C621 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?resize=980%2C595 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-makeunraid-run-unraid.png?resize=573%2C347 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-17-635'>
				Getting to the unRAID shell console in vSphere, and checking MAC address
				</dd></dl><br style="clear: both" />
		</div>
</li>
</ol>
<p>This concludes the unRAID-VM creation process, but it still has very little use as long as the data drives are not present, which is what the next section covers.</p>
<h3>Configuring the data drives</h3>
<p>Let&#8217;s review the available solutions for configuring data drives for use in the unRAID VM:</p>
<ol>
<li>Adding the data drives as datastore drives in the ESXi host, formatting them using VMFS, creating maximum-size virtual disks on each drive, and assigning the virtual disks to the unRAID VM.
<ol>
<li>This is probably the simplest method. It is natively supported in ESXi, and doesn&#8217;t involve any &#8220;hardware magic&#8221;.</p>
</li>
<li>
<p>This is also probably the worst possible solution, for any and all of the following reasons:</p>
<ol>
<li>Performance hell: This configuration goes through all possible software and hardware layers for every read/write operation.</p>
</li>
<li>
<p>Possible capacity loss due to limitations on the size of virtual disks in VMFS, which might be smaller than the actual capacity of the physical drive.</p>
</li>
<li>Doesn&#8217;t meet my requirement for transparent migration, as it requires reformatting all the drives to VMFS, thus losing the existing data. I don&#8217;t have 4TB of swap space laying around&#8230;</li>
<li>Doesn&#8217;t allow unRAID to manage the drives directly, including SMART parameters and various low-level sensors.</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Using VMDirectPath I/O to passthrough the disks directly to the unRAID VM, and letting unRAID manage the disks on its own.</p>
<ol>
<li>This solution sounds great, and meets all the requirements!</p>
</li>
<li>
<p>But, alas, VMDirectPath I/O can be used to passthrough supported PCI and PCIe devices, and not individual HDDs&#8230;</p>
</li>
<li>So maybe I can passthrough an entire SATA controller to the VM, and assign all the HDDs on that controller to the unRAID VM?</li>
<li>This indeed would have been great, if it worked, but it didn&#8217;t &#8211; more details below.</li>
<li>Future note here &#8211; I still plan to go back to this method, by <a href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/">installing a PCIe RAID Card (specifically IBM M1015), and assigning it to the unRAID VM with passthourgh</a>. But this requires getting that RAID card&#8230;</li>
</ol>
</li>
<li>
<p>Using Raw Device Mapping to assign the physicals HDDs to the unRAID VM.</p>
<ol>
<li>This solution almost meets all of my requirements, with the following disadvantages:
<ol>
<li>It isn&#8217;t <em>really</em> direct physical access, so unRAID doesn&#8217;t get to manage the drives directly (no SMART parameters and various sensors).</p>
</li>
<li>
<p>It isn&#8217;t natively supported in ESXi, and requires some manual ESXi voodoo that isn&#8217;t guaranteed to work in the future.</p>
</li>
</ol>
</li>
<li>But, despite the shortcomings, this method is much better than option #1, and I can implement it without waiting for some expansion card &#8211; which makes it the chosen solution!</li>
</ol>
</li>
</ol>
<p>In the following sections I will give further details on my failure with solution #2, and success with solution #3.</p>
<p>During the attempts and experiments I had only one data HDD connected (out of the three), in case I do something stupid and invalidate the data. This is a <em>reasonable</em> safety net, since I already had protection for 1-HDD-loss based on a parity drive. Of course it would have been better to have a full backup, or perform the experiments with non-production drives&#8230; (living on the edge :-p )</p>
<h5>SATA Controller DirectPath I/O Adventures</h5>
<p>As mentioned above, the SATA Controller passthrough alternative was the preferred solution for giving unRAID full control over the data HDDs, so this is what I tried first.</p>
<p>Towards that goal, I launched vSphere Client and logged in to the ESXi host. In the host management interface, the DirectPath I/O Configuration can be found under the Configuration tab, in <em>Advanced Settings</em>:</p>

		<style type='text/css'>
			#gallery-18 {
				margin: auto;
			}
			#gallery-18 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-18 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-18 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-18' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png'><img width="300" height="182" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-18-626" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?w=1680 1680w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?resize=300%2C182 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?resize=1024%2C621 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?resize=980%2C595 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath.png?resize=573%2C347 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-18-626'>
				ESXi DirectPath I/O configuration screen in vSphere
				</dd></dl><br style="clear: both" />
		</div>

<p>Clicking the <em>Configure Passthrough&#8230;</em> link (top-right) will bring up the <em>Mark devices for passthrough</em> dialog, listing all PCI and PCIe devices detected and available for passthrough:</p>

		<style type='text/css'>
			#gallery-19 {
				margin: auto;
			}
			#gallery-19 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-19 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-19 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-19' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon portrait'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig.png'><img width="249" height="300" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig.png?fit=249%2C300" class="attachment-medium size-medium" alt="" aria-describedby="gallery-19-618" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig.png?w=510 510w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig.png?resize=249%2C300 249w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig.png?resize=357%2C430 357w" sizes="(max-width: 249px) 100vw, 249px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-19-618'>
				ESXi DirectPath I/O &#8211; selecting devices for passthrough in vSphere
				</dd></dl><br style="clear: both" />
		</div>

<p>You can see that individual HDDs are not available for passthrough, which is reasonable considering HDDs are not PCI/PCIe devices. But the ASUS motherboard I have installed in this server (<a href="http://www.asus.com/Motherboards/Intel_Socket_1155/P8Z68V_PRO/">ASUS P8Z68-V Pro s1155</a>) has two on-board SATA controllers, both appear on the list above:</p>
<ul>
<li>Intel Corporation Cougar Point 6 SATA AHCI Controller &#8211; part of the Intel Z68 Chipset, this controller includes 2 SATA 6Gb/s ports (gray), and 4 SATA 3Gb/s ports (blue).</li>
<li>Marvell Technology Group Ltd. 88SE9172 &#8211; additional PCIe SATA controller that includes 2 SATA 6Gb/s ports (navy blue).</li>
</ul>
<p>Now, remember that the ESXi host itself needs its own datastore drives, so it will be using some SATA ports, but I don&#8217;t see a reason for installing more than two drives for the datastore, so why not use the Marvell controller for ESXi, and passthrough the Intel controller to unRAID? Wouldn&#8217;t it be great?</p>
<p>It would! But, sadly, it turns out that the Marvell controller is not supported by ESXi at all&#8230; In all possible configurations I tried (connecting every HDD I have to each Marvell port), ESXi simply didn&#8217;t detect the HDD connected &#8211; as if nothing&#8217;s connected&#8230; I assume this is a compatibility issue, as the controller does not appear on the <a href="http://www.vmware.com/resources/compatibility/search.php?action=base&amp;deviceCategory=io">ESXi 5.1 I/O Compatibility Guide</a>. I tried asking about this on <a href="http://communities.vmware.com/thread/419291">VMware Communities</a>, but got no response so far.</p>
<div id="tr_shareit-1602" class="tr_shareit-wrapper center">
					<div class="tr_shareit">
						<div class="tr_shareit-content">
It appears that the Marvell SATA controller is not supported by ESXi at all 🙁<br />
</div>
						<!-- .tr-shareit-content -->
						<ul class="tr_shareit-bar"><li class="tr_shareit-twitter"><a href="http://twitter.com/home?status=It+appears+that+the+Marvell+SATA+controller+is+not+supported+by+ESXi+at+all+%3A-%28 https://www.ostricher.com/2012/09/setting-up-unraid-vm/" target="_blank" title="Share on Twitter"><i class="icon-twitter"></i><span>Share on Twitter</span></a></li><li class="tr_shareit-facebook" data-link="https://www.ostricher.com/2012/09/setting-up-unraid-vm/" data-name="Setting up unRAID as VM on Mordor" data-description="It appears that the Marvell SATA controller is not supported by ESXi at all :-("data-picture="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150"><a href="http://www.facebook.com/dialog/feed?app_id=1447249925543116&redirect_uri=https://www.ostricher.com/&display=popup&link=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&name=Setting up unRAID as VM on Mordor&description=It+appears+that+the+Marvell+SATA+controller+is+not+supported+by+ESXi+at+all+%3A-%28&picture=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150" title="Share on Facebook"><i class="icon-facebook"></i><span>Share on Facebook</span></a></li><li class="tr_shareit-pinterest"><a href="http://pinterest.com/pin/create/button/?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&media=https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/raid-e1353240217979.jpg?resize=150%2C150&description=It+appears+that+the+Marvell+SATA+controller+is+not+supported+by+ESXi+at+all+%3A-%28" target="_blank" title="Share on Pinterest"><i class="icon-pinterest-circled"></i><span>Share on Pinterest</span></a></li><li class="tr_shareit-tumblr"><a href="http://www.tumblr.com/share/quote?quote=It+appears+that+the+Marvell+SATA+controller+is+not+supported+by+ESXi+at+all+%3A-%28&source=The+Ostrich" target="_blank" title="Share on Tumblr"><i class="icon-tumblr"></i><span>Share on Tumblr</span></a></li></ul>
						<!-- .tr-shareit-bar -->
					</div>
					<!-- .tr-shareit -->
				</div>
				<!-- .tr-shareit-wrapper -->
<p>Another approach I tried is to work around the compatibility issue, by letting the unRAID VM to deal with the Marvell controller &#8211; configure the Marvell using passthrough to the VM, and let the VM use it directly. I know unRAID is able to deal with this controller, since it worked fine back in the <a href="https://www.ostricher.com/2012/09/mordor-1-0-my-dedicated-unraid-server/">Mordor 1.0</a> days. This is of course a very partial workaround, as it gives unRAID only two HDDs, which is not enough&#8230;</p>
<ol>
<li>So I configured the Marvell controller for passthrough:<br />

		<style type='text/css'>
			#gallery-20 {
				margin: auto;
			}
			#gallery-20 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-20 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-20 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-20' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig-selectcontrollers.png'><img width="300" height="290" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig-selectcontrollers.png?fit=300%2C290" class="attachment-medium size-medium" alt="" aria-describedby="gallery-20-627" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig-selectcontrollers.png?w=633 633w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig-selectcontrollers.png?resize=300%2C290 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-directpath-passthroughconfig-selectcontrollers.png?resize=444%2C430 444w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-20-627'>
				Marking the Marvell SATA controller for passthrough
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Edit the settings of the unRAID VM, and launch the <em>Add Hardware</em> wizard in order to add the Marvell controller as a PCI device:<br />

		<style type='text/css'>
			#gallery-21 {
				margin: auto;
			}
			#gallery-21 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-21 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-21 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-21' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-01-pci.png'><img width="300" height="236" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-01-pci.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-21-621" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-01-pci.png?w=652 652w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-01-pci.png?resize=300%2C236 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-01-pci.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-21-621'>
				Adding a PCI device to the unRAID VM via vSphere
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Select the device from the list:<br />

		<style type='text/css'>
			#gallery-22 {
				margin: auto;
			}
			#gallery-22 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-22 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-22 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-22' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-02-pciselect.png'><img width="300" height="236" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-02-pciselect.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-22-632" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-02-pciselect.png?w=652 652w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-02-pciselect.png?resize=300%2C236 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-02-pciselect.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-22-632'>
				Selecting the passed-through Marvell SATA controller to unRAID VM as a PCI device
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Confirm and finish:<br />

		<style type='text/css'>
			#gallery-23 {
				margin: auto;
			}
			#gallery-23 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-23 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-23 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-23' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-03-pciready.png'><img width="300" height="236" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-03-pciready.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-23-607" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-03-pciready.png?w=652 652w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-03-pciready.png?resize=300%2C236 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/vsphere-unraid-addmarvell-03-pciready.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-23-607'>
				Finishing the wizard for adding the Marvell SATA controller to the unRAID VM
				</dd></dl><br style="clear: both" />
		</div>
</li>
</ol>
<p>This appeared to be OK, but once I booted the unRAID VM with HDDs connected to the Marvell ports, unRAID could not see any HDDs connected. I was unable to solve this issue (which is also probably part of the incompatibility of the Marvell controller), and decided to drop it in favor of the RDM solution, at least <a href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/">until I get the IBM M1015 RAID Card</a>.</p>
<h5>Raw Device Mapping Configuration</h5>
<p>As mentioned, this solution isn&#8217;t natively supported in ESXi. This means that vSphere Client access to the host is not sufficient, and some operations must be performed manually on the host, using direct SSH access.</p>
<p>This is not a tutorial about SSHing into ESXi hosts, so I sum it up with this: <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017910">enable <em>Tech Support Mode</em> in the ESXi host</a>, and use some SSH client (e.g. <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a> in Windows) to connect to the host.</p>
<p>It should be noted here that I found the <a href="http://blog.davidwarburton.net/2010/10/25/rdm-mapping-of-local-sata-storage-for-esxi/">RDM mapping of local SATA storage for ESXi</a> post useful, with some variations based on a <a href="http://lime-technology.com/forum/index.php?topic=7914.0">LimeTech forum thread</a>.</p>
<ol>
<li>In vSphere Client, under the host <em>Configuration</em> tab, in the <em>Storage</em> settings, in the <em>Devices</em> view, verify that the NAS-data-HDD is recognized:<br />

		<style type='text/css'>
			#gallery-24 {
				margin: auto;
			}
			#gallery-24 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-24 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-24 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-24' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png'><img width="300" height="182" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-24-623" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?w=1680 1680w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?resize=300%2C182 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?resize=1024%2C621 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?resize=980%2C595 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-01-seedevices.png?resize=573%2C347 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-24-623'>
				Verifying that the data HDD is recognized by ESXi in vSphere
				</dd></dl><br style="clear: both" />
		</div>

(I have 2 datastores drives, and the 3rd device is one of the NAS-data-drives &#8211; all are WDC)</li>
<li>In an active SSH session (logged on as root), run <code>ls -l /dev/disks</code> to obtain the full handle of the source HDD:<br />

		<style type='text/css'>
			#gallery-25 {
				margin: auto;
			}
			#gallery-25 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-25 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-25 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-25' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png'><img width="300" height="154" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?fit=300%2C154" class="attachment-medium size-medium" alt="" aria-describedby="gallery-25-612" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?w=1603 1603w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?resize=300%2C154 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?resize=1024%2C526 1024w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?resize=980%2C503 980w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-02-ssh-disks.png?resize=573%2C294 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-25-612'>
				Obtaining the full handle of the HDD is ESXi SSH session
				</dd></dl><br style="clear: both" />
		</div>

(my source HDD is <code>t10.ATA_____WDC_WD20EARS2D00MVWB0_________________________WD2DWCAZA1318851</code>, which I will later refer to as <code>&lt;HDD_ID&gt;</code> for brevity and generality)</li>
<li>Decide on a destination for the RDM handle. For instance, I want to use the RDMs in the unRAID VM, and I want to be able to keep track of which RDM belongs to which physical HDD, so I want to create the RDMs in the unRAID VM directory (e.g. <code>/vmfs/volumes/Patriot-64G-SSD/unRAID</code>), and to name them following the scheme <code>rdm_HDD-ID.vmdk</code>.</li>
<li>Create the RDM using the <code>vmkfstools</code> program: <code>vmkfstools -a lsilogic -z /vmfs/devices/disks/&lt;HDD_ID&gt; /vmfs/volumes/&lt;RDM-destination&gt;.vmdk</code>:<br />

		<style type='text/css'>
			#gallery-26 {
				margin: auto;
			}
			#gallery-26 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-26 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-26 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-26' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png'><img width="300" height="154" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?fit=300%2C154" class="attachment-medium size-medium" alt="" aria-describedby="gallery-26-616" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?w=1603 1603w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?resize=300%2C154 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?resize=1024%2C526 1024w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?resize=980%2C503 980w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-05-ssh-listrdms.png?resize=573%2C294 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-26-616'>
				Creating the RDM using vmkfstools in a ESXi SSH session
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Back in vSphere Client, edit the settings on the unRAID VM, and launch the <em>Add Hardware</em> wizard to add a Hard Disk:<br />

		<style type='text/css'>
			#gallery-27 {
				margin: auto;
			}
			#gallery-27 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-27 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-27 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-27' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-08-unraid-vm-adddisk.png'><img width="300" height="236" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-08-unraid-vm-adddisk.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-27-639" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-08-unraid-vm-adddisk.png?w=652 652w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-08-unraid-vm-adddisk.png?resize=300%2C236 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-08-unraid-vm-adddisk.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-27-639'>
				Adding a new Hard Disk to the unRAID VM with vSphere
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Select <em>Use an existing virtual disk</em>:<br />

		<style type='text/css'>
			#gallery-28 {
				margin: auto;
			}
			#gallery-28 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-28 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-28 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-28' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-09-unraid-vm-adddisk.png'><img width="300" height="236" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-09-unraid-vm-adddisk.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-28-609" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-09-unraid-vm-adddisk.png?w=652 652w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-09-unraid-vm-adddisk.png?resize=300%2C236 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-09-unraid-vm-adddisk.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-28-609'>
				Selecting the &#8220;Use an existing virtual disk&#8221; option in the Add Disk vSphere wizard
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Browse to the destination where the RDM was created and choose it:<br />

		<style type='text/css'>
			#gallery-29 {
				margin: auto;
			}
			#gallery-29 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-29 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-29 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-29' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-10-unraid-vm-adddisk.png'><img width="300" height="186" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-10-unraid-vm-adddisk.png?fit=300%2C186" class="attachment-medium size-medium" alt="" aria-describedby="gallery-29-613" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-10-unraid-vm-adddisk.png?w=558 558w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-10-unraid-vm-adddisk.png?resize=300%2C186 300w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-29-613'>
				Choosing the created RDM file as the virtual disk to add to the unRAID VM
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Select a Virtual Device Node <code>SCSI (#:0)</code>, where # is a number of a SCSI controller that is not yet in use by the VM! (usually <code>SCSI (1:0)</code>) &#8211; <strong>this is very important!</strong><br />
Also set the mode to persistent independent:<br />

		<style type='text/css'>
			#gallery-30 {
				margin: auto;
			}
			#gallery-30 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-30 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-30 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-30' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-12-unraid-vm-adddisk.png'><img width="300" height="236" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-12-unraid-vm-adddisk.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-30-624" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-12-unraid-vm-adddisk.png?w=652 652w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-12-unraid-vm-adddisk.png?resize=300%2C236 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-12-unraid-vm-adddisk.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-30-624'>
				Selecting an UNUSED SCSI virtual device node during the add disk wizard in vSphere
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Finish the wizard:<br />

		<style type='text/css'>
			#gallery-31 {
				margin: auto;
			}
			#gallery-31 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-31 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-31 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-31' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-13-unraid-vm-adddisk.png'><img width="300" height="236" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-13-unraid-vm-adddisk.png?fit=300%2C236" class="attachment-medium size-medium" alt="" aria-describedby="gallery-31-604" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-13-unraid-vm-adddisk.png?w=652 652w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-13-unraid-vm-adddisk.png?resize=300%2C236 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-13-unraid-vm-adddisk.png?resize=544%2C430 544w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-31-604'>
				Finishing the add disk wizard in vSphere
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Note that in addition to an extra Hard Disk, the Hardware inventory of the VM shows also a New SCSI Controller (because I used a yet-unused SCSI controller in a previous step, remember?):<br />

		<style type='text/css'>
			#gallery-32 {
				margin: auto;
			}
			#gallery-32 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-32 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-32 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-32' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-14-unraid-vm-adddisk.png'><img width="300" height="267" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-14-unraid-vm-adddisk.png?fit=300%2C267" class="attachment-medium size-medium" alt="" aria-describedby="gallery-32-619" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-14-unraid-vm-adddisk.png?w=708 708w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-14-unraid-vm-adddisk.png?resize=300%2C267 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-14-unraid-vm-adddisk.png?resize=482%2C430 482w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-32-619'>
				Summary of performed changes, before applying the changes
				</dd></dl><br style="clear: both" />
		</div>

See that it is configured as <em>LSI Logic Parallel</em>? <strong>It is very important to change the type of the SCSI Controller</strong> to <em>LSI Logic SAS</em>:<br />

		<style type='text/css'>
			#gallery-33 {
				margin: auto;
			}
			#gallery-33 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 50%;
			}
			#gallery-33 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-33 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-33' class='gallery galleryid-160 gallery-columns-2 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-17-fix-editscsi1.png'><img width="300" height="267" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-17-fix-editscsi1.png?fit=300%2C267" class="attachment-medium size-medium" alt="" aria-describedby="gallery-33-631" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-17-fix-editscsi1.png?w=708 708w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-17-fix-editscsi1.png?resize=300%2C267 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-17-fix-editscsi1.png?resize=482%2C430 482w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-33-631'>
				Editing the new SCSI controller that was created as LSI Logic Parallel
				</dd></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-18-fix-editscsi1-logicsas.png'><img width="300" height="225" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-18-fix-editscsi1-logicsas.png?fit=300%2C225" class="attachment-medium size-medium" alt="" aria-describedby="gallery-33-622" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-18-fix-editscsi1-logicsas.png?w=470 470w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-18-fix-editscsi1-logicsas.png?resize=300%2C225 300w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-33-622'>
				Changing the SCSI controller type to LSI Logic SAS
				</dd></dl><br style="clear: both" />
		</div>

I didn&#8217;t do that at first, and unRAID did not recognize the RDM&#8217;ed HDD as a result&#8230; (no harm done, though)</li>
<li>Boot unRAID, and verify the HDD is recognized (e.g. by running <code>ls -l /dev/disk/by-id/</code>):<br />

		<style type='text/css'>
			#gallery-34 {
				margin: auto;
			}
			#gallery-34 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-34 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-34 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-34' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-19-listunraiddisks.png'><img width="300" height="209" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-19-listunraiddisks.png?fit=300%2C209" class="attachment-medium size-medium" alt="" aria-describedby="gallery-34-605" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-19-listunraiddisks.png?w=738 738w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-19-listunraiddisks.png?resize=300%2C209 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-19-listunraiddisks.png?resize=573%2C400 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-34-605'>
				Checking that the RDM&#8217;d disk is recognized by unRAID in the unRAID shell
				</dd></dl><br style="clear: both" />
		</div>

Check that it is available in the list of devices in the unRAID management web interface:<br />

		<style type='text/css'>
			#gallery-35 {
				margin: auto;
			}
			#gallery-35 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 100%;
			}
			#gallery-35 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-35 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-35' class='gallery galleryid-160 gallery-columns-1 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png'><img width="300" height="182" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-35-608" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?w=1688 1688w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?resize=300%2C182 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?resize=1024%2C623 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?resize=980%2C596 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-configurerdm-20-listwebinterface.png?resize=573%2C348 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-35-608'>
				Checking that the RDM&#8217;d disk is recognized by unRAID in the unRAID web admin
				</dd></dl><br style="clear: both" />
		</div>
</li>
<li>Now that the process is validated using a single HDD &#8211; shutdown, connect the other HDDs, and repeat:<br />

		<style type='text/css'>
			#gallery-36 {
				margin: auto;
			}
			#gallery-36 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 33%;
			}
			#gallery-36 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-36 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-36' class='gallery galleryid-160 gallery-columns-3 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png'><img width="300" height="182" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-36-610" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?w=1680 1680w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?resize=300%2C182 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?resize=1024%2C621 1024w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?resize=980%2C595 980w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-01-seealldevices.png?resize=573%2C347 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-36-610'>
				Checking that all disks are recognized by ESXi
				</dd></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png'><img width="300" height="155" src="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?fit=300%2C155" class="attachment-medium size-medium" alt="" aria-describedby="gallery-36-600" srcset="https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?w=1563 1563w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?resize=300%2C155 300w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?resize=1024%2C529 1024w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?resize=980%2C506 980w, https://i1.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-02-ssh-vmkfstools.png?resize=573%2C296 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-36-600'>
				Running vmkfstools to create RDM files for all disks in ESXi SSH session
				</dd></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-03-vsphere-datastorerdm.png'><img width="300" height="136" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-03-vsphere-datastorerdm.png?fit=300%2C136" class="attachment-medium size-medium" alt="" aria-describedby="gallery-36-614" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-03-vsphere-datastorerdm.png?w=888 888w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-03-vsphere-datastorerdm.png?resize=300%2C136 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-03-vsphere-datastorerdm.png?resize=573%2C260 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-36-614'>
				Viewing all RDM files in the vSphere datastore browser
				</dd></dl><br style="clear: both" />
		</div>


		<style type='text/css'>
			#gallery-37 {
				margin: auto;
			}
			#gallery-37 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 50%;
			}
			#gallery-37 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-37 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
		<div id='gallery-37' class='gallery galleryid-160 gallery-columns-2 gallery-size-medium'><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-04-unraid-vm-adddisks.png'><img width="300" height="267" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-04-unraid-vm-adddisks.png?fit=300%2C267" class="attachment-medium size-medium" alt="" aria-describedby="gallery-37-601" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-04-unraid-vm-adddisks.png?w=708 708w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-04-unraid-vm-adddisks.png?resize=300%2C267 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-04-unraid-vm-adddisks.png?resize=482%2C430 482w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-37-601'>
				Adding all the disks to the unRAID VM as mapped raw LUNs
				</dd></dl><dl class='gallery-item'>
			<dt class='gallery-icon landscape'>
				<a href='https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png'><img width="300" height="182" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?fit=300%2C182" class="attachment-medium size-medium" alt="" aria-describedby="gallery-37-620" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?w=1688 1688w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?resize=300%2C182 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?resize=1024%2C623 1024w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?resize=980%2C596 980w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/esxi-allrdm-05-unraid-vm-itworks.png?resize=573%2C348 573w" sizes="(max-width: 300px) 100vw, 300px" /></a>
			</dt>
				<dd class='wp-caption-text gallery-caption' id='gallery-37-620'>
				Checking that unRAID successfully recognized all RDM&#8217;ed disks in the web admin
				</dd></dl><br style="clear: both" />
		</div>

<ul>
<li>The vmkfstools commands:
<pre class="brush: bash; title: ; notranslate" title="">
# vmkfstools -a lsilogic -z /vmfs/devices/disks/t10.ATA_____WDC_WD20EARS2D00MVWB0_________________________WD2DWCAZA1318851 /vmfs/volumes/Patriot-64G-SSD/unRAID/rdm_WD2DWCAZA1318851.vmdk
# vmkfstools -a lsilogic -z /vmfs/devices/disks/t10.ATA_____WDC_WD20EARX2D00PASB0_________________________WD2DWCAZAA396700 /vmfs/volumes/Patriot-64G-SSD/unRAID/rdm_WD2DWCAZAA396700.vmdk
# vmkfstools -a lsilogic -z /vmfs/devices/disks/t10.ATA_____WDC_WD20EARX2D00PASB0_________________________WD2DWCAZAA463853 /vmfs/volumes/Patriot-64G-SSD/unRAID/rdm_WD2DWCAZAA463853.vmdk
</pre>
</li>
</ul>
</li>
</ol>
<p>And this concludes another pretty-long-post, just about setting up a single VM!</p>
<p>Go up to the <a href="https://www.ostricher.com/projects/mordor-home-server/">Mordor project page</a> for more Mordor adventures. Or maybe jump straight to the post describing how I <a href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/">switched from RDM-based-NAS-drives to a RAID card as passthrough device</a>.</p>

<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>				<div class="clear"></div>
	</div>
	<!-- //Post Content -->	
		
</div></div>
<!-- .share-buttons -->
<div class="share-buttons">
	
<!-- <a class="facebook" target="_blank" onclick="return !window.open(this.href, 'Facebook', 'width=640,height=300')" href="http://www.facebook.com/sharer/sharer.php?u=">Facebook</a> -->
<div class="shareon">Share on:</div>
<a class="hs-icon icon-facebook-1" onClick="window.open('http://www.facebook.com/sharer.php?u=https://www.ostricher.com/2012/09/setting-up-unraid-vm/','Facebook','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://www.facebook.com/sharer.php?u=https://www.ostricher.com/2012/09/setting-up-unraid-vm/"></a>
<a class="hs-icon icon-twitter" onClick="window.open('http://twitter.com/share?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;text=Setting%20up%20unRAID%20as%20VM%20on%20Mordor','Twitter share','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://twitter.com/share?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;text=Setting%20up%20unRAID%20as%20VM%20on%20Mordor"></a>
<a class="hs-icon icon-gplus" onClick="window.open('https://plus.google.com/share?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/','Google plus','width=585,height=666,left='+(screen.availWidth/2-292)+',top='+(screen.availHeight/2-333)+''); return false;" href="https://plus.google.com/share?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/"></a>
<a class="hs-icon icon-digg" onClick="window.open('http://www.digg.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/','Digg','width=715,height=330,left='+(screen.availWidth/2-357)+',top='+(screen.availHeight/2-165)+''); return false;" href="http://www.digg.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/"></a>
<a class="hs-icon icon-reddit" onClick="window.open('http://reddit.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;title=Setting%20up%20unRAID%20as%20VM%20on%20Mordor','Reddit','width=617,height=514,left='+(screen.availWidth/2-308)+',top='+(screen.availHeight/2-257)+''); return false;" href="http://reddit.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;title=Setting%20up%20unRAID%20as%20VM%20on%20Mordor"></a>
<a class="hs-icon icon-linkedin" onClick="window.open('http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/','Linkedin','width=863,height=500,left='+(screen.availWidth/2-431)+',top='+(screen.availHeight/2-250)+''); return false;" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/"></a>
<a class="hs-icon icon-pinterest" href='javascript:void((function()%7Bvar%20e=document.createElement(&apos;script&apos;);e.setAttribute(&apos;type&apos;,&apos;text/javascript&apos;);e.setAttribute(&apos;charset&apos;,&apos;UTF-8&apos;);e.setAttribute(&apos;src&apos;,&apos;http://assets.pinterest.com/js/pinmarklet.js?r=&apos;+Math.random()*99999999);document.body.appendChild(e)%7D)());'></a>
<a class="hs-icon icon-stumbleupon" onClick="window.open('http://www.stumbleupon.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;title=Setting%20up%20unRAID%20as%20VM%20on%20Mordor','Stumbleupon','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://www.stumbleupon.com/submit?url=https://www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;title=Setting%20up%20unRAID%20as%20VM%20on%20Mordor"></a>
<a class="hs-icon icon-tumblr" onClick="window.open('http://www.tumblr.com/share/link?url=www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;name=Setting%20up%20unRAID%20as%20VM%20on%20Mordor','Tumblr','width=600,height=300,left='+(screen.availWidth/2-300)+',top='+(screen.availHeight/2-150)+''); return false;" href="http://www.tumblr.com/share/link?url=www.ostricher.com/2012/09/setting-up-unraid-vm/&amp;name=Setting%20up%20unRAID%20as%20VM%20on%20Mordor"></a>
</div><!-- //.share-buttons -->
</article>					<!--BEGIN .pager .single-pager -->
				<ul class="paging">
	<li style="float:left;">
		<a class="btn-pagination" href="https://www.ostricher.com/2012/09/mordor-installing-vmware-esxi/" rel="prev">&laquo; Previous post</a>		</li><!--.previous-->
	<li style="float:right;">
		<a class="btn-pagination" href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/" rel="next">Next Post &raquo;</a>	</li><!--.next-->
	<div class="clear"></div>
</ul><!--.pager-->

	<div class="related-posts">
							<h5 class="related-posts_h">Related Posts</h5>
		
			<ul class="related-posts_list clearfix">

									<li class="related-posts_item">
						
							<figure class="featured-thumbnail thumbnail large">
							<div class="hider-page"></div>
								<a href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/" title="Enhancing Mordor unRAID With IBM ServerRAID M1015"><img width="300" height="220" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/ibm-serverraid-m1015.jpg?resize=300%2C220" class="attachment-medium-thumb size-medium-thumb wp-post-image" alt="" /><span class="zoom-icon"></span></a>
							</figure>
												<h6><a href="https://www.ostricher.com/2012/11/enhancing-mordor-unraid-with-ibm-serverraid-m1015/" > Enhancing Mordor unRAID With IBM ServerRAID M1015 </a></h6>
					</li>
									<li class="related-posts_item">
						
							<figure class="featured-thumbnail thumbnail large">
							<div class="hider-page"></div>
								<a href="https://www.ostricher.com/2012/09/mordor-installing-vmware-esxi/" title="Installing VMware ESXi on Mordor"><img width="300" height="220" src="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/virtualization-free.jpg?resize=300%2C220" class="attachment-medium-thumb size-medium-thumb wp-post-image" alt="" srcset="https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/virtualization-free.jpg?resize=300%2C220 300w, https://i0.wp.com/www.ostricher.com/io-content/uploads/2014/08/virtualization-free.jpg?zoom=2&amp;resize=300%2C220 600w" sizes="(max-width: 300px) 100vw, 300px" /><span class="zoom-icon"></span></a>
							</figure>
												<h6><a href="https://www.ostricher.com/2012/09/mordor-installing-vmware-esxi/" > Installing VMware ESXi on Mordor </a></h6>
					</li>
									<li class="related-posts_item">
						
							<figure class="featured-thumbnail thumbnail large">
							<div class="hider-page"></div>
								<a href="https://www.ostricher.com/2012/09/mordor-1-0-my-dedicated-unraid-server/" title="Mordor 1.0: My Dedicated unRAID Server"><img width="300" height="220" src="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/storage-supplies.jpg?resize=300%2C220" class="attachment-medium-thumb size-medium-thumb wp-post-image" alt="" srcset="https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/storage-supplies.jpg?resize=300%2C220 300w, https://i2.wp.com/www.ostricher.com/io-content/uploads/2014/08/storage-supplies.jpg?zoom=2&amp;resize=300%2C220 600w" sizes="(max-width: 300px) 100vw, 300px" /><span class="zoom-icon"></span></a>
							</figure>
												<h6><a href="https://www.ostricher.com/2012/09/mordor-1-0-my-dedicated-unraid-server/" > Mordor 1.0: My Dedicated unRAID Server </a></h6>
					</li>
							</ul>
	</div><!-- .related-posts -->
				<!-- BEGIN Comments -->	
		<div id="comments" class="comment-holder">
		<h5 class="comments-h">3 Comments</h5>
		<div class="pagination">
		   
		</div>
		<ul class="commentlist">
 
	   <li class="comment even thread-even depth-1" id="li-comment-343" class="clearfix">
	     	<div id="comment-343" class="comment-body clearfix">
	      		<div class="wrapper">
	      			<div class="comment-author vcard">
	  	         		<img alt='' src='http://0.gravatar.com/avatar/c920804420723b9634d5bae21d68f48f?s=65&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c920804420723b9634d5bae21d68f48f?s=130&amp;d=mm&amp;r=g 2x' class='avatar avatar-65 photo' height='65' width='65' />	  	  				
	  	      		</div>
	  		      		      	
	  		     	<div class="extra-wrap">
					<span class="author">Lee</span><br />
					April 1, 2015	  		     		<p>Excellent documentation and very helpful. I will be buying a m1015. Thank you.</p>
	     	
	  		     	</div>
	  		    </div>
		     	<div class="wrapper">
				  	<div class="reply">
				    							
						<a rel='nofollow' class='comment-reply-link' href='https://www.ostricher.com/2012/09/setting-up-unraid-vm/?replytocom=343#respond' onclick='return addComment.moveForm( "comment-343", "343", "respond", "160" )' aria-label='Reply to Lee'>Reply <span><i class="icon-reply"></i></span></a>				   	</div>
			 	</div>
	    	</div>
	</li><!-- #comment-## -->
 
	   <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-369" class="clearfix">
	     	<div id="comment-369" class="comment-body clearfix">
	      		<div class="wrapper">
	      			<div class="comment-author vcard">
	  	         		<img alt='' src='http://0.gravatar.com/avatar/c920804420723b9634d5bae21d68f48f?s=65&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c920804420723b9634d5bae21d68f48f?s=130&amp;d=mm&amp;r=g 2x' class='avatar avatar-65 photo' height='65' width='65' />	  	  				
	  	      		</div>
	  		      		      	
	  		     	<div class="extra-wrap">
					<span class="author">Lee</span><br />
					April 4, 2015	  		     		<p>Although I have an IBM M1015 card on the way, I couldn&#8217;t wait and had to test my onboard controller on my SuperMicro X7sbe. So I followed your steps all the way, except I passed-through my onboard controller and added them as PCI devices in the VM. The unRAID VM boots to &#8216;loading /bzroot&#8230;&#8230;.&#8217; and seems to hang forever. I aborted and rolled back to native unRAID until my card arrives. Thanks!</p>
	     	
	  		     	</div>
	  		    </div>
		     	<div class="wrapper">
				  	<div class="reply">
				    							
						<a rel='nofollow' class='comment-reply-link' href='https://www.ostricher.com/2012/09/setting-up-unraid-vm/?replytocom=369#respond' onclick='return addComment.moveForm( "comment-369", "369", "respond", "160" )' aria-label='Reply to Lee'>Reply <span><i class="icon-reply"></i></span></a>				   	</div>
			 	</div>
	    	</div>
	<ul class="children">
 
	   <li class="comment byuser comment-author-itamar bypostauthor even depth-2" id="li-comment-774" class="clearfix">
	     	<div id="comment-774" class="comment-body clearfix">
	      		<div class="wrapper">
	      			<div class="comment-author vcard">
	  	         		<img alt='' src='http://1.gravatar.com/avatar/dee57780bca058d21ffeb1c9bd50ba86?s=65&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/dee57780bca058d21ffeb1c9bd50ba86?s=130&amp;d=mm&amp;r=g 2x' class='avatar avatar-65 photo' height='65' width='65' />	  	  				
	  	      		</div>
	  		      		      	
	  		     	<div class="extra-wrap">
					<span class="author"><a href='https://www.ostricher.com/' rel='external nofollow' class='url'>Itamar Ostricher</a></span><br />
					June 3, 2015	  		     		<p>That&#8217;s interesting! I think I had similar experience with trying to pass-through &#8220;unsupported&#8221; stuff (like random on-board controllers).</p>
<p>Did your M1015 arrive? Is it working for you?</p>
	     	
	  		     	</div>
	  		    </div>
		     	<div class="wrapper">
				  	<div class="reply">
				    							
						<a rel='nofollow' class='comment-reply-link' href='https://www.ostricher.com/2012/09/setting-up-unraid-vm/?replytocom=774#respond' onclick='return addComment.moveForm( "comment-774", "774", "respond", "160" )' aria-label='Reply to Itamar Ostricher'>Reply <span><i class="icon-reply"></i></span></a>				   	</div>
			 	</div>
	    	</div>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul>
		<div class="pagination">
		   
		</div>
	</div>
		

	
		<div id="respond" class="comment-respond">
							<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2012/09/setting-up-unraid-vm/#respond" style="display:none;">Cancel reply</a></small></h3>
						<form id="commentform" class="comment-form">
				<iframe src="https://jetpack.wordpress.com/jetpack-comment/?blogid=73215231&#038;postid=160&#038;comment_registration=0&#038;require_name_email=0&#038;stc_enabled=1&#038;stb_enabled=1&#038;show_avatars=1&#038;avatar_default=mystery&#038;greeting=Leave+a+Reply&#038;greeting_reply=Leave+a+Reply+to+%25s&#038;color_scheme=light&#038;lang=en_US&#038;jetpack_version=4.9&#038;sig=e84aa00c25398f515d42c3d731f0690973aa4856#parent=http%3A%2F%2Fwww.ostricher.com%2F2012%2F09%2Fsetting-up-unraid-vm%2F" style="width:100%; height: 430px; border:0;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment"></iframe>
				<!--[if !IE]><!-->
				<script>
					document.addEventListener( 'DOMContentLoaded', function () {
						var commentForms = document.getElementsByClassName( 'jetpack_remote_comment' );
						for ( var i = 0; i < commentForms.length; i++ ) {
							commentForms[i].allowTransparency = false;
							commentForms[i].scrolling = 'no';
						}
					} );
				</script>
				<!--<![endif]-->
			</form>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="" />

		                    </div>
                    <div class="span4 sidebar" id="sidebar">
                        <div id="social_networks-2" class="widget">			<!-- BEGIN SOCIAL NETWORKS -->
						
			<div class="social social__list unstyled">
				
				    						
																<a target="_blank" class="icon-facebook icon-2x social_link social_link__facebook" data-rel="tooltip" data-original-title="facebook" href="https://www.facebook.com/Ostrich.IO">
							</a>
																				
								    						
																<a target="_blank" class="icon-twitter icon-2x social_link social_link__twitter" data-rel="tooltip" data-original-title="twitter" href="https://twitter.com/OstricherIO">
							</a>
																				
								    						    						    						    						    						    						    						
																<a target="_blank" class="icon-gplus icon-2x social_link social_link__gplus" data-rel="tooltip" data-original-title="gplus" href="https://plus.google.com/+OstricherIO">
							</a>
																				
								    						    						    						    						
																<a target="_blank" class="icon-rss icon-2x social_link social_link__rss" data-rel="tooltip" data-original-title="rss" href="https://www.ostricher.com/feed/">
							</a>
																				
								    						    							      
   		</div>
   		<!-- END SOCIAL NETWORKS -->
      
		</div><div id="mc4wp_form_widget-2" class="widget"><h5>Sign up for the newsletter</h5><script type="text/javascript">(function() {
	if (!window.mc4wp) {
		window.mc4wp = {
			listeners: [],
			forms    : {
				on: function (event, callback) {
					window.mc4wp.listeners.push({
						event   : event,
						callback: callback
					});
				}
			}
		}
	}
})();
</script><!-- MailChimp for WordPress v4.1.3 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1909 mc4wp-form-basic" method="post" data-id="1909" data-name="Default sign-up form" ><div class="mc4wp-form-fields"><p>
	<label for="mc4wp_email">Email address: </label>
	<input type="email" id="mc4wp_email" name="EMAIL" placeholder="Your email address" required />
</p>
<p>
    <label for="mc4wp_name">Tell me your name (if you want to):</label>
    <input type="text" id="mc4wp_name" name="NAME" placeholder="Your name" />
</p>

<p>
	<input type="submit" value="Sign up" />
</p><div style="display: none;"><input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off" /></div><input type="hidden" name="_mc4wp_timestamp" value="1525666229" /><input type="hidden" name="_mc4wp_form_id" value="1909" /><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1" /></div><div class="mc4wp-response"></div></form><!-- / MailChimp for WordPress Plugin --></div>		<div id="my-recent-comments-2" class="widget">			<h5>Recent Comments</h5>		<ul class="comments-custom unstyled">			
      <li class="comments-custom_li">
			
						
			<div class="small"><i class="icon-comment-alt"></i> Itamar Ostricher | <time>2016-03-17 06:22:34</time></div>
      	<div class="clear"></div>
			<div class="comments-custom_txt">
				<a href="https://www.ostricher.com/2013/09/my-arduino-powered-ac-control/#comment-1844" title="Go to this comment">Yes, you can do signal processing to detect specific frequency beeps, ...</a>
			</div>
		</li>
		
   			
      <li class="comments-custom_li">
			
						
			<div class="small"><i class="icon-comment-alt"></i> eddie | <time>2016-03-15 17:59:58</time></div>
      	<div class="clear"></div>
			<div class="comments-custom_txt">
				<a href="https://www.ostricher.com/2013/09/my-arduino-powered-ac-control/#comment-1843" title="Go to this comment">Hi Can I just Check that is there like specific frequency beep  to spe...</a>
			</div>
		</li>
		
   			
      <li class="comments-custom_li">
			
						
			<div class="small"><i class="icon-comment-alt"></i> FotoJournal | <time>2016-01-15 00:59:22</time></div>
      	<div class="clear"></div>
			<div class="comments-custom_txt">
				<a href="https://www.ostricher.com/2015/06/how-to-use-ssh-with-multiple-github-accounts/#comment-1807" title="Go to this comment">Also work remembering that you'll need to be added to the repo as a co...</a>
			</div>
		</li>
		
   			
      <li class="comments-custom_li">
			
						
			<div class="small"><i class="icon-comment-alt"></i> mostlybinary | <time>2015-12-04 21:54:39</time></div>
      	<div class="clear"></div>
			<div class="comments-custom_txt">
				<a href="https://www.ostricher.com/2015/11/meteor-todo-app-with-react-tutorial/#comment-1729" title="Go to this comment">As for the front-end frameworks, Meteor is committed to supporting all...</a>
			</div>
		</li>
		
   			
      <li class="comments-custom_li">
			
						
			<div class="small"><i class="icon-comment-alt"></i> Matthew (@MatthewMetzger) | <time>2015-11-30 04:42:36</time></div>
      	<div class="clear"></div>
			<div class="comments-custom_txt">
				<a href="https://www.ostricher.com/2015/11/meteor-coursera-course/#comment-1715" title="Go to this comment">I agree with your summary. I just finished week two and I am liking th...</a>
			</div>
		</li>
		
   		</ul>
		</div>		<div id="recent-posts-3" class="widget">		<h5>Recent Posts</h5>		<ul>
					<li>
				<a href="https://www.ostricher.com/2016/04/go-plain-ubiquitous-plaintext-capture-part-1-nvalt/">Go Plain Ubiquitous Plaintext Capture, Part 1: nvALT</a>
							<span class="post-date">April 9, 2016</span>
						</li>
					<li>
				<a href="https://www.ostricher.com/2016/03/get-safe-paths-from-arbitrary-strings-in-python/">Get Safe Paths From Arbitrary Strings In Python</a>
							<span class="post-date">March 30, 2016</span>
						</li>
					<li>
				<a href="https://www.ostricher.com/2016/03/migrating-kambatz-meteor-app-to-galaxy/">Migrating Kambatz Meteor App to Galaxy</a>
							<span class="post-date">March 27, 2016</span>
						</li>
				</ul>
		</div>		<div id="text-2" class="widget"><h5>Buy Me Coffee!</h5>			<div class="textwidget"><p align="center">
More coffee == more content!<br />
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=AXPTQUWH26Y5A&lc=IL&item_name=ItamarO%20%40%20The%20Ostrich&item_number=itamaro%2ethe%2eostrich%C2%A4cy_code=USD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted" target='blank'><img src="https://i1.wp.com/www.paypal.com/en_US/i/btn/x-click-but04.gif?w=900&#038;ssl=1" data-recalc-dims="1" /></a>
</p></div>
		</div><div id="text-4" class="widget"><h5>Paying The Bills</h5>			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ostrich-sidebar -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8654111040751380"
     data-ad-slot="9189217750"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</div><div id="text-3" class="widget"><h5>Copyright Information</h5>			<div class="textwidget"><p align="center">
<a href="http://creativecommons.org/licenses/by/4.0/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://creativecommons.org/licenses/by/4.0/', '');" rel="license"><img alt="Creative Commons License" style="border-width:0" src="https://i0.wp.com/i.creativecommons.org/l/by/4.0/88x31.png?w=900&#038;ssl=1" data-recalc-dims="1" /></a><br /><span>The Ostrich</span> by <a href="https://www.ostricher.com/" rel="cc:attributionURL">Itamar Ostricher</a> is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" onclick="__gaTracker('send', 'event', 'outbound-widget', 'http://creativecommons.org/licenses/by/4.0/', 'Creative Commons Attribution 4.0 International License');" rel="license">Creative Commons Attribution 4.0 International License</a>.
</p></div>
		</div>                    </div>
					                </div>
            </div>
        </div>
    </div>
</div>
<footer class="footer">


<div class="lowestfooter">
	<div class="container">
<div class="row-fluid copyright">
    <div class="span6">
	    </div>
    <div class="span6">
    	<div id="footer-text" class="footer-text">
		
			Site by <a href="http://www.gootte.com" target="_blank">Gootte</a>		</div>    </div>
</div>
</div>
</div>
</footer>
</div><!--#main-->	
	
	<div id="back-top-wrapper" class="visible-desktop">
	    <p id="back-top">
	        <a href="#top"><span></span></a>
	    </p>
	</div>
	<div style="display:none">
	<div class="grofile-hash-map-b46f4d37bcaac708c3cfb864a8a3ec6c">
	</div>
	<div class="grofile-hash-map-c920804420723b9634d5bae21d68f48f">
	</div>
	<div class="grofile-hash-map-dee57780bca058d21ffeb1c9bd50ba86">
	</div>
	</div>
<script type="text/javascript">(function() {function addEventListener(element,event,handler) {
	if(element.addEventListener) {
		element.addEventListener(event,handler, false);
	} else if(element.attachEvent){
		element.attachEvent('on'+event,handler);
	}
}function maybePrefixUrlField() {
	if(this.value.trim() !== '' && this.value.indexOf('http') !== 0) {
		this.value = "http://" + this.value;
	}
}

var urlFields = document.querySelectorAll('.mc4wp-form input[type="url"]');
if( urlFields && urlFields.length > 0 ) {
	for( var j=0; j < urlFields.length; j++ ) {
		addEventListener(urlFields[j],'blur',maybePrefixUrlField);
	}
}/* test if browser supports date fields */
var testInput = document.createElement('input');
testInput.setAttribute('type', 'date');
if( testInput.type !== 'date') {

	/* add placeholder & pattern to all date fields */
	var dateFields = document.querySelectorAll('.mc4wp-form input[type="date"]');
	for(var i=0; i<dateFields.length; i++) {
		if(!dateFields[i].placeholder) {
			dateFields[i].placeholder = 'YYYY-MM-DD';
		}
		if(!dateFields[i].pattern) {
			dateFields[i].pattern = '[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])';
		}
	}
}

})();</script><script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/akismet/_inc/form.js?ver=3.3.2'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://www.ostricher.com/io-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://www.ostricher.com/io-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='tr_shareit-css-css'  href='https://www.ostricher.com/io-content/plugins/tr-shareit/css/tr-plugin-style.css?ver=1.0.7' type='text/css' media='all' />
<script type='text/javascript' src='https://www.ostricher.com/wp-includes/js/comment-reply.min.js?ver=4.7.10'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.ostricher.com\/io-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.5'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/easy-image-display/js/jquery.colorbox-min.js?ver=4.7.10'></script>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201819'></script>
<script type='text/javascript' src='https://s.gravatar.com/js/gprofiles.js?ver=2018Mayaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/jetpack/modules/wpgroho.js?ver=4.7.10'></script>
<script type='text/javascript' src='https://www.ostricher.com/wp-includes/js/wp-embed.min.js?ver=4.7.10'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var shareitjs = {"app_id":"1447249925543116","fb_published":"Post was published.","fb_not_published":"Post was not published, please try again later."};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/tr-shareit/js/tr-plugin-script.js?ver=1.0.7'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/jquery.easing.1.3.js?ver=1.3'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/jquery.flexnav.min.js?ver=3.1.5'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/jquery.magnificpopup.js?ver=0.9.9'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/jquery.plugins.js?ver=3.1.5'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/custom.js?ver=1.0'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/js/jquery.appear.js?ver=1.0.0'></script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/themes/BUZZBLOG-theme/bootstrap/js/bootstrap.min.js?ver=2.3.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mc4wp_forms_config = [];
/* ]]> */
</script>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/mailchimp-for-wp/assets/js/forms-api.min.js?ver=4.1.3'></script>
<!--[if lte IE 9]>
<script type='text/javascript' src='https://www.ostricher.com/io-content/plugins/mailchimp-for-wp/assets/js/third-party/placeholders.min.js?ver=4.1.3'></script>
<![endif]-->

		<!--[if IE]>
		<script type="text/javascript">
		if ( 0 === window.location.hash.indexOf( '#comment-' ) ) {
			// window.location.reload() doesn't respect the Hash in IE
			window.location.hash = window.location.hash;
		}
		</script>
		<![endif]-->
		<script type="text/javascript">
			var comm_par_el = document.getElementById( 'comment_parent' ),
			    comm_par = (comm_par_el && comm_par_el.value) ? comm_par_el.value : '',
			    frame = document.getElementById( 'jetpack_remote_comment' ),
			    tellFrameNewParent;

			tellFrameNewParent = function() {
				if ( comm_par ) {
					frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=73215231&postid=160&comment_registration=0&require_name_email=0&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=4.9&sig=e84aa00c25398f515d42c3d731f0690973aa4856#parent=http%3A%2F%2Fwww.ostricher.com%2F2012%2F09%2Fsetting-up-unraid-vm%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
				} else {
					frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=73215231&postid=160&comment_registration=0&require_name_email=0&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=4.9&sig=e84aa00c25398f515d42c3d731f0690973aa4856#parent=http%3A%2F%2Fwww.ostricher.com%2F2012%2F09%2Fsetting-up-unraid-vm%2F";
				}
			};

	
			if ( 'undefined' !== typeof addComment ) {
				addComment._Jetpack_moveForm = addComment.moveForm;

				addComment.moveForm = function( commId, parentId, respondId, postId ) {
					var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ), cancelClick, cancel;

					if ( false === returnValue ) {
						cancel = document.getElementById( 'cancel-comment-reply-link' );
						cancelClick = cancel.onclick;
						cancel.onclick = function() {
							var cancelReturn = cancelClick.call( this );
							if ( false !== cancelReturn ) {
								return cancelReturn;
							}

							if ( !comm_par ) {
								return cancelReturn;
							}

							comm_par = 0;

							tellFrameNewParent();

							return cancelReturn;
						};
					}

					if ( comm_par == parentId ) {
						return returnValue;
					}

					comm_par = parentId;

					tellFrameNewParent();

					return returnValue;
				};
			}

	
			if ( window.postMessage ) {
				if ( document.addEventListener ) {
					window.addEventListener( 'message', function( event ) {
						if ( "https:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				} else if ( document.attachEvent ) {
					window.attachEvent( 'message', function( event ) {
						if ( "https:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				}
			}
		</script>

	<script type='text/javascript' src='https://stats.wp.com/e-201819.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.9',blog:'73215231',post:'160',tz:'3',srv:'www.ostricher.com'} ]);
	_stq.push([ 'clickTrackerInit', '73215231', '160' ]);
</script>
 <!-- this is used by many Wordpress features and for plugins to work properly -->


</body>
</html>
<!-- Dynamic page generated in 2.644 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-05-07 07:10:29 -->

<!-- Compression = gzip -->
